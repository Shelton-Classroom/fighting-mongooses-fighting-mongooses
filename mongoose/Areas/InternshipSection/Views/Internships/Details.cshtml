@model mongoose.Models.Internship

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>
<h4>@Html.DisplayFor(model => model.Name)</h4>
<hr />
<div class="internship_details">
    <div class="internship_details_info">

        <dl class="dl-horizontal">
       
            <dt>
                @Html.DisplayNameFor(model => model.Description)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Description)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Length)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Length)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Rate)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Rate)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Location)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Location)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.StartDate)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.StartDate)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.PostDate)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.PostDate)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Paid)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Paid)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Employer.Name)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Employer.Name)
            </dd>

        </dl>
    </div>
    <div class="internship_details_photo">
        @if (System.IO.File.Exists(HttpContext.Current.Server.MapPath("~/Images/" + ViewBag.EmpId + ".jpg")))
        {

            <img class="dashboard-image" src="@Url.Content(String.Format("~/Images/" + ViewBag.EmpId + ".jpg"))" />


        }

    </div>

</div>


@{
    if (User.IsInRole("Student"))
    {
        <div class="apply_form">
            <a class="btn btn-lg btn-primary" href="#">APPLY NOW!</a>
        </div>
        @Html.ActionLink("Back", null, null, null, new { href = Request.UrlReferrer }) //takes user back to previous page
    }
    if (User.IsInRole("Employer")) //If Employer links to internship edit page and links back to employer open internships(specific to logged in employer) mb
    {
        @Html.ActionLink("Edit", "Edit", new { id = Model.InternshipId })
        @Html.Partial("_backToEmp")
    }
    if (User.IsInRole("Instructor"))
    {
        @Html.ActionLink("Back", "OpenInternships", "Instructors", new { area = "InstructorSection" }, new { @class = "nav-link" })
    }

}


